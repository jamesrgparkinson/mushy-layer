
amrmultigrid.MGtype=1
amrmultigrid.hang_eps=1.0e-10
amrmultigrid.max_iter=10
amrmultigrid.norm_thresh=1.0e-10
amrmultigrid.num_mg=1
amrmultigrid.num_smooth=8
amrmultigrid.relaxMode=1
amrmultigrid.tolerance=1.0e-10
amrmultigrid.verbosity=0
bc.bulkConcentrationHiVal=-1 -1
bc.bulkConcentrationLoVal=-1 -1
bc.enthalpyHiVal=0.0 0.8
bc.enthalpyLoVal=0.0 1.7
bc.porosityLoVal=1 1
bc.scalarHi=1 0 0
bc.scalarLo=1 0 0
bc.velHi=6 0 0
bc.velLo=6 0 0
concise_run_name=Uniform64MushyDB
machineCodeIsRunOn=atmlxmaster
main.addSubtractGradP=1
main.advPorosityLimit=0.01
main.adv_vel_centering=0.01
main.adv_vel_centering_growth=1.0
main.block_factor=16
main.ccvel_porosity_cap=0.01
main.cfl=0.4
main.checkpoint_interval=10
main.chk_prefix=chk
main.debug=true
main.doAdvVelFRupdates=1
main.doEuler=1
main.doProjection=1
main.doVCreflux=0
main.do_postRegrid_smoothing=0
main.domain_width=0.5
main.dt_tolerance_factor=1.01
main.enforceAnalyticSoln=false
main.fill_ratio=0.75
main.grid_buffer_size=8 8 8
main.ignoreSolverFails=true
main.implicitAdvectionSolve=false
main.initLambda=1
main.init_add_subtract_grad_p=1
main.init_advVel_centering=0.5
main.init_compute_uDelu=1
main.init_dt_scale=0.5
main.init_increase_dt=1
main.init_resetStates=1
main.initialPerturbation=0.02
main.initial_cfl=0.1
main.initialize_pressure=true
main.iter_plot_interval=-1
main.iteration_plot_interval=-1
main.maxDivUFace=1e-10
main.maxRestartWavenumber=1
main.max_dt=10
main.max_dt_growth=1.01
main.max_eta=0.95
main.max_grid_size=64
main.max_init_dt=0.001
main.max_level=2
main.max_step=200000
main.max_time=0.2
main.min_time=100000.0
main.nondimensionalisation=1
main.num_cells=64 64
main.num_init_passes=1
main.output_folder=/home/parkinsonjl/convection-in-sea-ice/MushyLayer/execSubcycle/outputLambdaTwoLevelTest
main.periodic_bc=1 0 0
main.perturbationSin=false
main.perturbationWavenumber=1
main.plot_interval=25
main.plot_prefix=plt
main.project_initial_vel=true
main.ref_ratio=2 2 2
main.refine_thresh=0.0005
main.refluxType=0
main.reflux_average_down=1
main.reflux_momentum=1
main.reflux_normal_momentum=1
main.reflux_scalar=1
main.regrid_advect_before_freestream=0
main.regrid_dt_scale=0.5
main.regrid_eta_scale=1.0
main.regrid_freestream_subcycle=0
main.regrid_gridfile=/home/parkinsonjl/convection-in-sea-ice/MushyLayer/execSubcycle/64x64plume
main.regrid_interval=8 16
main.regrid_small_vel_limit=1e-7
main.regrid_smoothing_coeff=0.01
main.restart_perturbation=0.0
main.restart_wavenumber=1
main.scalarHOinterp=1
main.scalePwithChi=1
main.solverFailRestartMethod=0
main.steady_state=1e-9
main.subcycled_plots=0
main.symmetric_domain=false
main.tag_buffer_size=4
main.taggingVar=3
main.time_integration_order=1
main.usePhiForImplicitAdvectionSolve=false
main.use_limiting=true
main.use_subcycling=1
main.variable_eta_factor=1.05
main.vectorHOinterp=1
main.verbosity=3
main.viscous_solver_tol=1e-15
main.writePressureInitFields=0
mercurialRepository=1062+
parameters.K=1
parameters.bottomBulkConc=-1.0
parameters.bottomEnthalpy=6.3
parameters.compositionRatio=5
parameters.darcy=1e-2
parameters.eutecticComposition=230
parameters.eutecticTemp=-23
parameters.heatConductivityRatio=1
parameters.heleShaw=true
parameters.initialComposition=30
parameters.lewis=500
parameters.liquidusSlope=-0.1
parameters.nonDimReluctance=1.0
parameters.nonDimVel=0.0
parameters.permeabilityFunction=2
parameters.porosityFunction=0
parameters.prandtl=1
parameters.problem_type=0
parameters.rayleighComp=0
parameters.rayleighTemp=500000.0
parameters.specificHeatRatio=1
parameters.stefan=0.5
parameters.topBulkConc=-1.0
parameters.waterDistributionCoeff=1e-5
picardSolver.max_iter=8
picardSolver.tol=1e-5
projection.eta=0.95
projection.eta_power=1
projection.numSmoothDown=4
projection.numSmoothUp=4
projection.scaleSyncCorrection=0
projection.solverTol=1e-15
projector.verbosity=0
regrid.marginalPorosityLimit=0.99
regrid.plume_salinity=-0.8
regrid.plume_vel=1e-4
run_name=Uniform

## Everything we've changed:
main.num_cells=32 32
main.max_grid_size=32
main.plot_interval=32
regrid.plume_salinity=-0.6
regrid.plume_vel=3
main.regrid_small_vel_limit=0.01
main.initialPerturbation=0.0002
parameters.rayleighComp=2e6 # 0
parameters.rayleighTemp=1e5 # 5e5
parameters.darcy=1e-2
main.max_time=10
bc.enthalpyHiVal=0.0 0.8
bc.enthalpyLoVal=0.0 1.8
main.tag_buffer_size=2
main.grid_buffer_size=4 4

# Just to find some more interesting params
main.max_level=0
main.num_cells=64 64
main.max_grid_size=32
parameters.rayleighComp=5e5 #5e5
parameters.compositionRatio=10
parameters.darcy=2e-2
bc.enthalpyLoVal=0.0 2.0
main.max_time=1e4

bc.enthalpyLoVal=0.0 1.55
parameters.rayleighComp=2e6

# Try very large C
main.num_cells=64 64
parameters.darcy=1e-3
parameters.rayleighComp=2e6 #5e5

# Now v small c
parameters.compositionRatio=1.5
parameters.rayleighComp=9e5
parameters.rayleighTemp=0
parameters.darcy=2e-1
parameters.darcy=8e-2
bc.enthalpyLoVal=0.0 2.2
main.lowPorosityLimit=1e-8
main.max_level=2
regrid.plume_salinity=-0.85 # (conc ratio - 2)
regrid.plume_vel=0.5
main.regrid_small_vel_limit=0.01
main.perturbationSin=false
main.max_init_dt=0.0002
main.initialPerturbation=0.000

main.num_cells = 64 64
main.tag_buffer_size=0 #2
main.max_level=2

main.max_init_dt=5e-6
parameters.rayleighComp=2e6
parameters.darcy=5e-2
regrid.plume_vel=30

main.max_level =1

#bc.enthalpyLoVal=0.0 1.7
parameters.nonDimReluctance=1e-5

main.regrid_small_vel_limit=0.0001



# New params
parameters.compositionRatio=5.0
parameters.rayleighComp=1e6 #4e6
main.domain_width=0.25
main.initialPerturbation=0.05

main.max_time=0.02
regrid.fixed_grid_time=0.01
main.regrid_gridfile=32x32channel
main.max_grid_size=32
main.num_cells=32 32

main.output_folder = lambdaConvTest

# Testing
main.advection_testing=0

main.reflux_enthalpy=0
main.reflux_concentration=1
main.reflux_lambda=1
main.reflux_momentum=1

main.regrid_gridfile=64x64channel
main.max_grid_size=64
main.num_cells=64 64




projection.scale_lambda_err = 0
regrid.fixed_grid_time=0.002

projection.divide_lambda_correction_porosity=0
projection.eta=0.99
main.max_eta=1.2

#main.regrid_advect_before_freestream=1
main.reflux_enthalpy=1
main.reflux_concentration=1

regrid.fixed_grid_time=0.005

main.maxDivUFace=1e-5

main.max_grid_size=128
main.num_cells=128 128
main.regrid_gridfile=128x128bottom

main.max_grid_size=32
main.num_cells=32 32
main.regrid_gridfile=32x32middle



#main.plot_interval=1
#main.subcycled_plots=1
#main.regrid_plots=1
#main.writePressureInitFields=1

# Testing without lambda correction:
main.maxProjections=1
projection.eta=0
main.max_grid_size=32
main.num_cells=32 32
main.regrid_gridfile=32x32middle


#### Try turning off buoyancy
main.turn_off_buoyancy_time=0.29
regrid.fixed_grid_time=0.3 #0.005
main.max_time=0.5

main.plot_interval=1
